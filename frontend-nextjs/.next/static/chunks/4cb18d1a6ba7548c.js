(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70935,e=>{"use strict";e.s(["default",()=>g],70935);var t=e.i(18050),s=e.i(71645),r=e.i(18607),a=e.i(9913),i=e.i(66892),n=e.i(46932),c=e.i(71689),l=e.i(75254);let o=(0,l.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),d=(0,l.default)("server-crash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);var x=e.i(19455),h=e.i(22016),m=e.i(87968),u=e.i(59684),p=e.i(66161);function g(){let{items:e}=(0,a.useCartStore)(),{data:l,isPending:g,isError:f,mutate:j,reset:v}=i.trpc.calculate.useMutation();(0,s.useEffect)(()=>{let t=e.map(e=>({provider:e.provider,region:e.region,resourceType:e.resourceType,priceModel:e.priceModel,unitOfMeasure:e.unitOfMeasure,usageQuantity:e.usageQuantity,count:e.count}));t.length>0&&j(t)},[e,j]);let y=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return(0,t.jsxs)("div",{className:"relative min-h-screen w-full",children:[(0,t.jsx)("div",{className:"absolute inset-0 z-[-1]",children:(0,t.jsx)(r.default,{color:"#073622",noiseIntensity:.3,scale:1.5,speed:1})}),(0,t.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pt-20",children:(0,t.jsxs)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)(h.default,{href:"/checkout",passHref:!0,children:(0,t.jsxs)(x.Button,{variant:"ghost",className:"text-zinc-400 hover:text-white hover:bg-zinc-800 mb-4",children:[(0,t.jsx)(c.ArrowLeft,{className:"mr-2 h-4 w-4"})," Back to review"]})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Estimate Results"}),(0,t.jsx)("p",{className:"text-zinc-400 mt-1",children:"Here is the estimated cost based on your selection."})]}),g?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 p-8 bg-zinc-900/50 border border-zinc-800 rounded-lg",children:[(0,t.jsx)(m.Spinner,{className:"h-10 w-10 text-green-400"}),(0,t.jsx)("p",{className:"text-zinc-400",children:"Calculating your estimate..."})]}):f?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 p-8 bg-red-900/30 border border-red-800 rounded-lg text-center",children:[(0,t.jsx)(d,{className:"h-10 w-10 text-red-400"}),(0,t.jsx)("p",{className:"text-red-300 font-semibold",children:"Calculation Failed"}),(0,t.jsx)("p",{className:"text-red-400/80 text-sm",children:"There was an error while trying to calculate the cost."}),(0,t.jsxs)(x.Button,{onClick:()=>{v(),j(e.map(e=>({provider:e.provider,region:e.region,resourceType:e.resourceType,priceModel:e.priceModel,unitOfMeasure:e.unitOfMeasure,usageQuantity:e.usageQuantity,count:e.count})))},className:"mt-4 bg-red-500 hover:bg-red-600 text-white",children:[(0,t.jsx)(o,{className:"mr-2 h-4 w-4"})," Try Again"]})]}):l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-900/70 to-green-800/50 border border-green-700 rounded-lg p-6 text-center",children:[(0,t.jsx)("p",{className:"text-lg text-green-300",children:"Total Estimated Cost"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mt-2",children:y(l.totalCost)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Cost Breakdown"}),(0,t.jsx)(u.ScrollArea,{className:"h-[400px] rounded-lg border border-zinc-800 bg-zinc-950/20 p-2",children:(0,t.jsx)("div",{className:"space-y-2",children:l.breakdown.map((s,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-zinc-900/50 hover:bg-zinc-800/50 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-5 flex items-center justify-center",children:p.ProviderIconMap[((t,s)=>{let r=e.find(e=>e.resourceType===t&&e.region===s);return r?r.provider:"unknown"})(s.resourceType,s.region).toLowerCase()]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-zinc-200",children:s.resourceType}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-zinc-500",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-4 flex items-center justify-center",children:(0,p.getRegionIcon)(s.region)}),(0,t.jsx)("span",{children:s.region})]})]})]}),(0,t.jsx)("span",{className:"font-semibold text-white",children:y(s.totalCost)})]},r))})})]})]})]})})]})}}]);