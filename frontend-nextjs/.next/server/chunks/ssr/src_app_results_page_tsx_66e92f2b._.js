module.exports=[93592,a=>{"use strict";a.s(["default",()=>q],93592);var b=a.i(87924),c=a.i(72131),d=a.i(9713),e=a.i(29992),f=a.i(28718),g=a.i(46271),h=a.i(210),i=a.i(70106);let j=(0,i.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),k=(0,i.default)("server-crash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);var l=a.i(99570),m=a.i(38246),n=a.i(68684),o=a.i(69876),p=a.i(4488);function q(){let{items:a}=(0,e.useCartStore)(),{data:i,isPending:q,isError:r,mutate:s,reset:t}=f.trpc.calculate.useMutation();(0,c.useEffect)(()=>{let b=a.map(a=>({provider:a.provider,region:a.region,resourceType:a.resourceType,priceModel:a.priceModel,unitOfMeasure:a.unitOfMeasure,usageQuantity:a.usageQuantity,count:a.count}));b.length>0&&s(b)},[a,s]);let u=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a);return(0,b.jsxs)("div",{className:"relative min-h-screen w-full",children:[(0,b.jsx)("div",{className:"absolute inset-0 z-[-1]",children:(0,b.jsx)(d.default,{color:"#073622",noiseIntensity:.3,scale:1.5,speed:1})}),(0,b.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pt-20",children:(0,b.jsxs)(g.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-3xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)(m.default,{href:"/checkout",passHref:!0,children:(0,b.jsxs)(l.Button,{variant:"ghost",className:"text-zinc-400 hover:text-white hover:bg-zinc-800 mb-4",children:[(0,b.jsx)(h.ArrowLeft,{className:"mr-2 h-4 w-4"})," Back to review"]})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Estimate Results"}),(0,b.jsx)("p",{className:"text-zinc-400 mt-1",children:"Here is the estimated cost based on your selection."})]}),q?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 p-8 bg-zinc-900/50 border border-zinc-800 rounded-lg",children:[(0,b.jsx)(n.Spinner,{className:"h-10 w-10 text-green-400"}),(0,b.jsx)("p",{className:"text-zinc-400",children:"Calculating your estimate..."})]}):r?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 p-8 bg-red-900/30 border border-red-800 rounded-lg text-center",children:[(0,b.jsx)(k,{className:"h-10 w-10 text-red-400"}),(0,b.jsx)("p",{className:"text-red-300 font-semibold",children:"Calculation Failed"}),(0,b.jsx)("p",{className:"text-red-400/80 text-sm",children:"There was an error while trying to calculate the cost."}),(0,b.jsxs)(l.Button,{onClick:()=>{t(),s(a.map(a=>({provider:a.provider,region:a.region,resourceType:a.resourceType,priceModel:a.priceModel,unitOfMeasure:a.unitOfMeasure,usageQuantity:a.usageQuantity,count:a.count})))},className:"mt-4 bg-red-500 hover:bg-red-600 text-white",children:[(0,b.jsx)(j,{className:"mr-2 h-4 w-4"})," Try Again"]})]}):i&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-900/70 to-green-800/50 border border-green-700 rounded-lg p-6 text-center",children:[(0,b.jsx)("p",{className:"text-lg text-green-300",children:"Total Estimated Cost"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-white mt-2",children:u(i.totalCost)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Cost Breakdown"}),(0,b.jsx)(o.ScrollArea,{className:"h-[400px] rounded-lg border border-zinc-800 bg-zinc-950/20 p-2",children:(0,b.jsx)("div",{className:"space-y-2",children:i.breakdown.map((c,d)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-zinc-900/50 hover:bg-zinc-800/50 rounded-md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-5 flex items-center justify-center",children:p.ProviderIconMap[((b,c)=>{let d=a.find(a=>a.resourceType===b&&a.region===c);return d?d.provider:"unknown"})(c.resourceType,c.region).toLowerCase()]}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-zinc-200",children:c.resourceType}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-zinc-500",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-4 flex items-center justify-center",children:(0,p.getRegionIcon)(c.region)}),(0,b.jsx)("span",{children:c.region})]})]})]}),(0,b.jsx)("span",{className:"font-semibold text-white",children:u(c.totalCost)})]},d))})})]})]})]})})]})}}];

//# sourceMappingURL=src_app_results_page_tsx_66e92f2b._.js.map