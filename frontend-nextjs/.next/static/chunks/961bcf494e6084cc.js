(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40141,e=>{"use strict";e.s(["GenIcon",()=>l],40141);var t=e.i(71645),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=t.default.createContext&&t.default.createContext(r),i=["attr","size","title"];function n(){return(n=Object.assign.bind()).apply(this,arguments)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var s,i,n;s=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in s?Object.defineProperty(s,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e){return r=>t.default.createElement(o,n({attr:c({},e.attr)},r),function e(r){return r&&r.map((r,s)=>t.default.createElement(r.tag,c({key:s},r.attr),e(r.child)))}(e.child))}function o(e){var a=r=>{var s,{attr:a,size:l,title:o}=e,d=function(e,t){if(null==e)return{};var r,s,i=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,i),u=l||r.size||"1em";return r.className&&(s=r.className),e.className&&(s=(s?s+" ":"")+e.className),t.default.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,d,{className:s,style:c(c({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.default.createElement("title",null,o),e.children)};return void 0!==s?t.default.createElement(s.Consumer,null,e=>a(e)):a(r)}},70935,e=>{"use strict";e.s(["default",()=>f],70935);var t=e.i(18050),r=e.i(71645),s=e.i(18607),i=e.i(9913),n=e.i(66892),a=e.i(46932),c=e.i(71689),l=e.i(75254);let o=(0,l.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),d=(0,l.default)("server-crash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);var u=e.i(19455),m=e.i(22016),h=e.i(87968),p=e.i(59684),x=e.i(66161);function f(){let{items:e}=(0,i.useCartStore)(),{data:l,isPending:f,isError:y,mutate:v,reset:g}=n.trpc.calculate.useMutation();(0,r.useEffect)(()=>{let t=e.map(e=>({provider:e.provider,region:e.region,resourceType:e.resourceType,priceModel:e.priceModel,unitOfMeasure:e.unitOfMeasure,usageQuantity:e.usageQuantity,count:e.count}));t.length>0&&v(t)},[e,v]);let b=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return(0,t.jsxs)("div",{className:"relative min-h-screen w-full",children:[(0,t.jsx)("div",{className:"absolute inset-0 z-[-1]",children:(0,t.jsx)(s.default,{color:"#073622",noiseIntensity:.3,scale:1.5,speed:1})}),(0,t.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pt-20",children:(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)(m.default,{href:"/checkout",passHref:!0,children:(0,t.jsxs)(u.Button,{variant:"ghost",className:"text-zinc-400 hover:text-white hover:bg-zinc-800 mb-4",children:[(0,t.jsx)(c.ArrowLeft,{className:"mr-2 h-4 w-4"})," Back to review"]})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Estimate Results"}),(0,t.jsx)("p",{className:"text-zinc-400 mt-1",children:"Here is the estimated cost based on your selection."})]}),f?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 p-8 bg-zinc-900/50 border border-zinc-800 rounded-lg",children:[(0,t.jsx)(h.Spinner,{className:"h-10 w-10 text-green-400"}),(0,t.jsx)("p",{className:"text-zinc-400",children:"Calculating your estimate..."})]}):y?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 p-8 bg-red-900/30 border border-red-800 rounded-lg text-center",children:[(0,t.jsx)(d,{className:"h-10 w-10 text-red-400"}),(0,t.jsx)("p",{className:"text-red-300 font-semibold",children:"Calculation Failed"}),(0,t.jsx)("p",{className:"text-red-400/80 text-sm",children:"There was an error while trying to calculate the cost."}),(0,t.jsxs)(u.Button,{onClick:()=>{g(),v(e.map(e=>({provider:e.provider,region:e.region,resourceType:e.resourceType,priceModel:e.priceModel,unitOfMeasure:e.unitOfMeasure,usageQuantity:e.usageQuantity,count:e.count})))},className:"mt-4 bg-red-500 hover:bg-red-600 text-white",children:[(0,t.jsx)(o,{className:"mr-2 h-4 w-4"})," Try Again"]})]}):l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-900/70 to-green-800/50 border border-green-700 rounded-lg p-6 text-center",children:[(0,t.jsx)("p",{className:"text-lg text-green-300",children:"Total Estimated Cost"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mt-2",children:b(l.totalCost)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Cost Breakdown"}),(0,t.jsx)(p.ScrollArea,{className:"h-[400px] rounded-lg border border-zinc-800 bg-zinc-950/20 p-2",children:(0,t.jsx)("div",{className:"space-y-2",children:l.breakdown.map((r,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-zinc-900/50 hover:bg-zinc-800/50 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-5 flex items-center justify-center",children:x.ProviderIconMap[((t,r)=>{let s=e.find(e=>e.resourceType===t&&e.region===r);return s?s.provider:"unknown"})(r.resourceType,r.region).toLowerCase()]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-zinc-200",children:r.resourceType}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-zinc-500",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-4 flex items-center justify-center",children:(0,x.getRegionIcon)(r.region)}),(0,t.jsx)("span",{children:r.region})]})]})]}),(0,t.jsx)("span",{className:"font-semibold text-white",children:b(r.totalCost)})]},s))})})]})]})]})})]})}}]);